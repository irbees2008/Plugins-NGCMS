# =========================================================================== #
# NG CMS // Плагины // Анти бот                                               #
# =========================================================================== #

Защита форм сайта от интернет-ботов с reCAPTCHA v3.
Предназначен для плагинов comments, feedback и регистрационной формы.
Плагин запрашивает у сервиса Google оценку действий пользователя без его участия
для блокирования отправки форм ботами, которые чаще всего спамят.

Инструкция
1 Перед использованием плагина зарегистрируйтесь и получите
  Ключ и Секретный ключ reCAPTCHA v3 здесь https://g.co/recaptcha/v3.
2 Активируйте плагин ggg_recaptcha в админ. панели.
3 Вставьте Ключ и Секретный ключ в соответствующие поля.
4 Никаких дополнительных действий с плагином не требуется.
  Теперь на вашем сайте в правом нижнем углу информационный блок от reCAPTCHA.

5 Для использования в плагине comments, отредактируйте шаблон формы
  <u>\templates\ВАШ_ШАБЛОН\plugins\comments\comments.form.tpl</u>,
  добавьте перед закрывающим тегом <u>&lt;/form&gt;</u>, следующий код:
  <u>&lt;input name="g-recaptcha-response" type="hidden" value="" /&gt;</u>
  Ну и этом же шаблоне добавить между [not-logged] ... [/not-logged]
  <u>cajax.setVar("g-recaptcha-response", form['g-recaptcha-response'].value);</u>
  Там же до тегов [captcha] ... [/captcha]
  <u>grecaptcha_reload();</u>
  
6 Для использования в плагине feedback, отредактируйте шаблон формы
  <u>\templates\ВАШ_ШАБЛОН\plugins\feedback\site.form.tpl</u>,
  добавьте перед закрывающим тегом <u>&lt;/form&gt;</u>, следующий код:
  <u>{% if not global.flags.isLogged %}&lt;input name="g-recaptcha-response" type="hidden" value="" /&gt;{% endif %}</u>

7 Для использования при регистрации, отредактируйте шаблон формы
  <u>\templates\ВАШ_ШАБЛОН\registration.tpl</u>,
  добавьте перед закрывающим тегом <u>&lt;/form&gt;</u>, следующий код:
  <u>&lt;input name="g-recaptcha-response" type="hidden" value="" /&gt;</u>

Обратите внимание
Зарегистрированные пользователи проверку не проходят.

Почему три буквы в названии плагина `ggg_recaptcha`?
Потому что версия капчи третья.